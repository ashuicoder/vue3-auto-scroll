(function($,z){typeof exports=="object"&&typeof module<"u"?z(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],z):($=typeof globalThis<"u"?globalThis:$||self,z($.lib={},$.Vue))})(this,function($,z){"use strict";var ce={exports:{}},Ae=ce.exports={};Ae.forEach=function(r,n){for(var a=0;a<r.length;a++){var t=n(r[a]);if(t)return t}};var ze=function(r){var n=r.stateHandler.getState;function a(l){var i=n(l);return i&&!!i.isDetectable}function t(l){n(l).isDetectable=!0}function u(l){return!!n(l).busy}function h(l,i){n(l).busy=!!i}return{isDetectable:a,markAsDetectable:t,isBusy:u,markBusy:h}},He=function(r){var n={};function a(l){var i=r.get(l);return i===void 0?[]:n[i]||[]}function t(l,i){var f=r.get(l);n[f]||(n[f]=[]),n[f].push(i)}function u(l,i){for(var f=a(l),d=0,g=f.length;d<g;++d)if(f[d]===i){f.splice(d,1);break}}function h(l){var i=a(l);!i||(i.length=0)}return{get:a,add:t,removeListener:u,removeAllListeners:h}},_e=function(){var r=1;function n(){return r++}return{generate:n}},Oe=function(r){var n=r.idGenerator,a=r.stateHandler.getState;function t(h){var l=a(h);return l&&l.id!==void 0?l.id:null}function u(h){var l=a(h);if(!l)throw new Error("setId required the element to have a resize detection state.");var i=n.generate();return l.id=i,i}return{get:t,set:u}},je=function(r){function n(){}var a={log:n,warn:n,error:n};if(!r&&window.console){var t=function(u,h){u[h]=function(){var i=console[h];if(i.apply)i.apply(console,arguments);else for(var f=0;f<arguments.length;f++)i(arguments[f])}};t(a,"log"),t(a,"warn"),t(a,"error")}return a},le={exports:{}},he=le.exports={};he.isIE=function(r){function n(){var t=navigator.userAgent.toLowerCase();return t.indexOf("msie")!==-1||t.indexOf("trident")!==-1||t.indexOf(" edge/")!==-1}if(!n())return!1;if(!r)return!0;var a=function(){var t,u=3,h=document.createElement("div"),l=h.getElementsByTagName("i");do h.innerHTML="<!--[if gt IE "+ ++u+"]><i></i><![endif]-->";while(l[0]);return u>4?u:t}();return r===a},he.isLegacyOpera=function(){return!!window.opera};var ve={exports:{}},Ie=ve.exports={};Ie.getOption=Ne;function Ne(r,n,a){var t=r[n];return t==null&&a!==void 0?a:t}var ge=ve.exports,Me=function(n){n=n||{};var a=n.reporter,t=ge.getOption(n,"async",!0),u=ge.getOption(n,"auto",!0);u&&!t&&(a&&a.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),t=!0);var h=pe(),l,i=!1;function f(b,H){!i&&u&&t&&h.size()===0&&T(),h.add(b,H)}function d(){for(i=!0;h.size();){var b=h;h=pe(),b.process()}i=!1}function g(b){i||(b===void 0&&(b=t),l&&(j(l),l=null),b?T():d())}function T(){l=E(d)}function j(b){var H=clearTimeout;return H(b)}function E(b){var H=function(I){return setTimeout(I,0)};return H(b)}return{add:f,force:g}};function pe(){var r={},n=0,a=0,t=0;function u(i,f){f||(f=i,i=0),i>a?a=i:i<t&&(t=i),r[i]||(r[i]=[]),r[i].push(f),n++}function h(){for(var i=t;i<=a;i++)for(var f=r[i],d=0;d<f.length;d++){var g=f[d];g()}}function l(){return n}return{add:u,process:h,size:l}}var ue="_erd";function Pe(r){return r[ue]={},be(r)}function be(r){return r[ue]}function Be(r){delete r[ue]}var We={initState:Pe,getState:be,cleanState:Be},te=le.exports,Re=function(r){r=r||{};var n=r.reporter,a=r.batchProcessor,t=r.stateHandler.getState;if(!n)throw new Error("Missing required dependency: reporter.");function u(d,g){function T(){g(d)}if(te.isIE(8))t(d).object={proxy:T},d.attachEvent("onresize",T);else{var j=i(d);if(!j)throw new Error("Element is not detectable by this strategy.");j.contentDocument.defaultView.addEventListener("resize",T)}}function h(d){var g=r.important?" !important; ":"; ";return(d.join(g)+g).trim()}function l(d,g,T){T||(T=g,g=d,d=null),d=d||{},d.debug;function j(E,b){var H=h(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),I=!1,L=window.getComputedStyle(E),w=E.offsetWidth,C=E.offsetHeight;t(E).startSize={width:w,height:C};function c(){function e(){if(L.position==="static"){E.style.setProperty("position","relative",d.important?"important":"");var D=function(O,m,_,v){function S(N){return N.replace(/[^-\d\.]/g,"")}var P=_[v];P!=="auto"&&S(P)!=="0"&&(O.warn("An element that is positioned static has style."+v+"="+P+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+v+" will be set to 0. Element: ",m),m.style.setProperty(v,"0",d.important?"important":""))};D(n,E,L,"top"),D(n,E,L,"right"),D(n,E,L,"bottom"),D(n,E,L,"left")}}function x(){I||e();function D(m,_){if(!m.contentDocument){var v=t(m);v.checkForObjectDocumentTimeoutId&&window.clearTimeout(v.checkForObjectDocumentTimeoutId),v.checkForObjectDocumentTimeoutId=setTimeout(function(){v.checkForObjectDocumentTimeoutId=0,D(m,_)},100);return}_(m.contentDocument)}var O=this;D(O,function(_){b(E)})}L.position!==""&&(e(),I=!0);var o=document.createElement("object");o.style.cssText=H,o.tabIndex=-1,o.type="text/html",o.setAttribute("aria-hidden","true"),o.onload=x,te.isIE()||(o.data="about:blank"),t(E)&&(E.appendChild(o),t(E).object=o,te.isIE()&&(o.data="about:blank"))}a?a.add(c):c()}te.isIE(8)?T(g):j(g,T)}function i(d){return t(d).object}function f(d){if(!!t(d)){var g=i(d);!g||(te.isIE(8)?d.detachEvent("onresize",g.proxy):d.removeChild(g),t(d).checkForObjectDocumentTimeoutId&&window.clearTimeout(t(d).checkForObjectDocumentTimeoutId),delete t(d).object)}}return{makeDetectable:l,addListener:u,uninstall:f}},Fe=ce.exports.forEach,qe=function(r){r=r||{};var n=r.reporter,a=r.batchProcessor,t=r.stateHandler.getState;r.stateHandler.hasState;var u=r.idHandler;if(!a)throw new Error("Missing required dependency: batchProcessor");if(!n)throw new Error("Missing required dependency: reporter.");var h=g(),l="erd_scroll_detection_scrollbar_style",i="erd_scroll_detection_container";function f(c){T(c,l,i)}f(window.document);function d(c){var e=r.important?" !important; ":"; ";return(c.join(e)+e).trim()}function g(){var c=500,e=500,x=document.createElement("div");x.style.cssText=d(["position: absolute","width: "+c*2+"px","height: "+e*2+"px","visibility: hidden","margin: 0","padding: 0"]);var o=document.createElement("div");o.style.cssText=d(["position: absolute","width: "+c+"px","height: "+e+"px","overflow: scroll","visibility: none","top: "+-c*3+"px","left: "+-e*3+"px","visibility: hidden","margin: 0","padding: 0"]),o.appendChild(x),document.body.insertBefore(o,document.body.firstChild);var D=c-o.clientWidth,O=e-o.clientHeight;return document.body.removeChild(o),{width:D,height:O}}function T(c,e,x){function o(_,v){v=v||function(P){c.head.appendChild(P)};var S=c.createElement("style");return S.innerHTML=_,S.id=e,v(S),S}if(!c.getElementById(e)){var D=x+"_animation",O=x+"_animation_active",m=`/* Created by the element-resize-detector library. */
`;m+="."+x+" > div::-webkit-scrollbar { "+d(["display: none"])+` }

`,m+="."+O+" { "+d(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+D,"animation-name: "+D])+` }
`,m+="@-webkit-keyframes "+D+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,m+="@keyframes "+D+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",o(m)}}function j(c){c.className+=" "+i+"_animation_active"}function E(c,e,x){if(c.addEventListener)c.addEventListener(e,x);else if(c.attachEvent)c.attachEvent("on"+e,x);else return n.error("[scroll] Don't know how to add event listeners.")}function b(c,e,x){if(c.removeEventListener)c.removeEventListener(e,x);else if(c.detachEvent)c.detachEvent("on"+e,x);else return n.error("[scroll] Don't know how to remove event listeners.")}function H(c){return t(c).container.childNodes[0].childNodes[0].childNodes[0]}function I(c){return t(c).container.childNodes[0].childNodes[0].childNodes[1]}function L(c,e){var x=t(c).listeners;if(!x.push)throw new Error("Cannot add listener to an element that is not detectable.");t(c).listeners.push(e)}function w(c,e,x){x||(x=e,e=c,c=null),c=c||{};function o(){if(c.debug){var s=Array.prototype.slice.call(arguments);if(s.unshift(u.get(e),"Scroll: "),n.log.apply)n.log.apply(null,s);else for(var p=0;p<s.length;p++)n.log(s[p])}}function D(s){function p(k){var W=k.getRootNode&&k.getRootNode().contains(k);return k===k.ownerDocument.body||k.ownerDocument.body.contains(k)||W}return!p(s)||window.getComputedStyle(s)===null}function O(s){var p=t(s).container.childNodes[0],k=window.getComputedStyle(p);return!k.width||k.width.indexOf("px")===-1}function m(){var s=window.getComputedStyle(e),p={};return p.position=s.position,p.width=e.offsetWidth,p.height=e.offsetHeight,p.top=s.top,p.right=s.right,p.bottom=s.bottom,p.left=s.left,p.widthCSS=s.width,p.heightCSS=s.height,p}function _(){var s=m();t(e).startSize={width:s.width,height:s.height},o("Element start size",t(e).startSize)}function v(){t(e).listeners=[]}function S(){if(o("storeStyle invoked."),!t(e)){o("Aborting because element has been uninstalled");return}var s=m();t(e).style=s}function P(s,p,k){t(s).lastWidth=p,t(s).lastHeight=k}function N(s){return H(s).childNodes[0]}function G(){return 2*h.width+1}function ie(){return 2*h.height+1}function ae(s){return s+10+G()}function oe(s){return s+10+ie()}function tt(s){return s*2+G()}function rt(s){return s*2+ie()}function Ee(s,p,k){var W=H(s),J=I(s),Q=ae(p),X=oe(k),M=tt(p),y=rt(k);W.scrollLeft=Q,W.scrollTop=X,J.scrollLeft=M,J.scrollTop=y}function xe(){var s=t(e).container;if(!s){s=document.createElement("div"),s.className=i,s.style.cssText=d(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),t(e).container=s,j(s),e.appendChild(s);var p=function(){t(e).onRendered&&t(e).onRendered()};E(s,"animationstart",p),t(e).onAnimationStart=p}return s}function nt(){function s(){var A=t(e).style;if(A.position==="static"){e.style.setProperty("position","relative",c.important?"important":"");var q=function(ee,K,st,de){function dt(ct){return ct.replace(/[^-\d\.]/g,"")}var fe=st[de];fe!=="auto"&&dt(fe)!=="0"&&(ee.warn("An element that is positioned static has style."+de+"="+fe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+de+" will be set to 0. Element: ",K),K.style[de]=0)};q(n,e,A,"top"),q(n,e,A,"right"),q(n,e,A,"bottom"),q(n,e,A,"left")}}function p(A,q,ee,K){return A=A?A+"px":"0",q=q?q+"px":"0",ee=ee?ee+"px":"0",K=K?K+"px":"0",["left: "+A,"top: "+q,"right: "+K,"bottom: "+ee]}if(o("Injecting elements"),!t(e)){o("Aborting because element has been uninstalled");return}s();var k=t(e).container;k||(k=xe());var W=h.width,J=h.height,Q=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),X=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(p(-(1+W),-(1+J),-J,-W))),M=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),B=d(["position: absolute","left: 0","top: 0"]),Y=d(["position: absolute","width: 200%","height: 200%"]),R=document.createElement("div"),F=document.createElement("div"),Z=document.createElement("div"),Te=document.createElement("div"),se=document.createElement("div"),Ce=document.createElement("div");R.dir="ltr",R.style.cssText=Q,R.className=i,F.className=i,F.style.cssText=X,Z.style.cssText=M,Te.style.cssText=B,se.style.cssText=y,Ce.style.cssText=Y,Z.appendChild(Te),se.appendChild(Ce),F.appendChild(Z),F.appendChild(se),R.appendChild(F),k.appendChild(R);function De(){var A=t(e);A&&A.onExpand?A.onExpand():o("Aborting expand scroll handler: element has been uninstalled")}function Le(){var A=t(e);A&&A.onShrink?A.onShrink():o("Aborting shrink scroll handler: element has been uninstalled")}E(Z,"scroll",De),E(se,"scroll",Le),t(e).onExpandScroll=De,t(e).onShrinkScroll=Le}function it(){function s(M,y,B){var Y=N(M),R=ae(y),F=oe(B);Y.style.setProperty("width",R+"px",c.important?"important":""),Y.style.setProperty("height",F+"px",c.important?"important":"")}function p(M){var y=e.offsetWidth,B=e.offsetHeight,Y=y!==t(e).lastWidth||B!==t(e).lastHeight;o("Storing current size",y,B),P(e,y,B),a.add(0,function(){if(!!Y){if(!t(e)){o("Aborting because element has been uninstalled");return}if(!k()){o("Aborting because element container has not been initialized");return}if(c.debug){var F=e.offsetWidth,Z=e.offsetHeight;(F!==y||Z!==B)&&n.warn(u.get(e),"Scroll: Size changed before updating detector elements.")}s(e,y,B)}}),a.add(1,function(){if(!t(e)){o("Aborting because element has been uninstalled");return}if(!k()){o("Aborting because element container has not been initialized");return}Ee(e,y,B)}),Y&&M&&a.add(2,function(){if(!t(e)){o("Aborting because element has been uninstalled");return}if(!k()){o("Aborting because element container has not been initialized");return}M()})}function k(){return!!t(e).container}function W(){function M(){return t(e).lastNotifiedWidth===void 0}o("notifyListenersIfNeeded invoked");var y=t(e);if(M()&&y.lastWidth===y.startSize.width&&y.lastHeight===y.startSize.height)return o("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(y.lastWidth===y.lastNotifiedWidth&&y.lastHeight===y.lastNotifiedHeight)return o("Not notifying: Size already notified");o("Current size not notified, notifying..."),y.lastNotifiedWidth=y.lastWidth,y.lastNotifiedHeight=y.lastHeight,Fe(t(e).listeners,function(B){B(e)})}function J(){if(o("startanimation triggered."),O(e)){o("Ignoring since element is still unrendered...");return}o("Element rendered.");var M=H(e),y=I(e);(M.scrollLeft===0||M.scrollTop===0||y.scrollLeft===0||y.scrollTop===0)&&(o("Scrollbars out of sync. Updating detector elements..."),p(W))}function Q(){if(o("Scroll detected."),O(e)){o("Scroll event fired while unrendered. Ignoring...");return}p(W)}if(o("registerListenersAndPositionElements invoked."),!t(e)){o("Aborting because element has been uninstalled");return}t(e).onRendered=J,t(e).onExpand=Q,t(e).onShrink=Q;var X=t(e).style;s(e,X.width,X.height)}function at(){if(o("finalizeDomMutation invoked."),!t(e)){o("Aborting because element has been uninstalled");return}var s=t(e).style;P(e,s.width,s.height),Ee(e,s.width,s.height)}function ot(){x(e)}function ke(){o("Installing..."),v(),_(),a.add(0,S),a.add(1,nt),a.add(2,it),a.add(3,at),a.add(4,ot)}o("Making detectable..."),D(e)?(o("Element is detached"),xe(),o("Waiting until element is attached..."),t(e).onRendered=function(){o("Element is now attached"),ke()}):ke()}function C(c){var e=t(c);!e||(e.onExpandScroll&&b(H(c),"scroll",e.onExpandScroll),e.onShrinkScroll&&b(I(c),"scroll",e.onShrinkScroll),e.onAnimationStart&&b(e.container,"animationstart",e.onAnimationStart),e.container&&c.removeChild(e.container))}return{makeDetectable:w,addListener:L,uninstall:C,initDocument:f}},re=ce.exports.forEach,$e=ze,Ue=He,Ve=_e,Ge=Oe,Je=je,ye=le.exports,Ye=Me,U=We,Ke=Re,Qe=qe;function Se(r){return Array.isArray(r)||r.length!==void 0}function we(r){if(Array.isArray(r))return r;var n=[];return re(r,function(a){n.push(a)}),n}function me(r){return r&&r.nodeType===1}var Xe=function(r){r=r||{};var n;if(r.idHandler)n={get:function(w){return r.idHandler.get(w,!0)},set:r.idHandler.set};else{var a=Ve(),t=Ge({idGenerator:a,stateHandler:U});n=t}var u=r.reporter;if(!u){var h=u===!1;u=Je(h)}var l=V(r,"batchProcessor",Ye({reporter:u})),i={};i.callOnAdd=!!V(r,"callOnAdd",!0),i.debug=!!V(r,"debug",!1);var f=Ue(n),d=$e({stateHandler:U}),g,T=V(r,"strategy","object"),j=V(r,"important",!1),E={reporter:u,batchProcessor:l,stateHandler:U,idHandler:n,important:j};if(T==="scroll"&&(ye.isLegacyOpera()?(u.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),T="object"):ye.isIE(9)&&(u.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),T="object")),T==="scroll")g=Qe(E);else if(T==="object")g=Ke(E);else throw new Error("Invalid strategy name: "+T);var b={};function H(w,C,c){function e(_){var v=f.get(_);re(v,function(P){P(_)})}function x(_,v,S){f.add(v,S),_&&S(v)}if(c||(c=C,C=w,w={}),!C)throw new Error("At least one element required.");if(!c)throw new Error("Listener required.");if(me(C))C=[C];else if(Se(C))C=we(C);else return u.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var o=0,D=V(w,"callOnAdd",i.callOnAdd),O=V(w,"onReady",function(){}),m=V(w,"debug",i.debug);re(C,function(v){U.getState(v)||(U.initState(v),n.set(v));var S=n.get(v);if(m&&u.log("Attaching listener to element",S,v),!d.isDetectable(v)){if(m&&u.log(S,"Not detectable."),d.isBusy(v)){m&&u.log(S,"System busy making it detectable"),x(D,v,c),b[S]=b[S]||[],b[S].push(function(){o++,o===C.length&&O()});return}return m&&u.log(S,"Making detectable..."),d.markBusy(v,!0),g.makeDetectable({debug:m,important:j},v,function(N){if(m&&u.log(S,"onElementDetectable"),U.getState(N)){d.markAsDetectable(N),d.markBusy(N,!1),g.addListener(N,e),x(D,N,c);var G=U.getState(N);if(G&&G.startSize){var ie=N.offsetWidth,ae=N.offsetHeight;(G.startSize.width!==ie||G.startSize.height!==ae)&&e(N)}b[S]&&re(b[S],function(oe){oe()})}else m&&u.log(S,"Element uninstalled before being detectable.");delete b[S],o++,o===C.length&&O()})}m&&u.log(S,"Already detecable, adding listener."),x(D,v,c),o++}),o===C.length&&O()}function I(w){if(!w)return u.error("At least one element is required.");if(me(w))w=[w];else if(Se(w))w=we(w);else return u.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");re(w,function(C){f.removeAllListeners(C),g.uninstall(C),U.cleanState(C)})}function L(w){g.initDocument&&g.initDocument(w)}return{listenTo:H,removeListener:f.removeListener,removeAllListeners:f.removeAllListeners,uninstall:I,initDocument:L}};function V(r,n,a){var t=r[n];return t==null&&a!==void 0?a:t}const Ze=z.defineComponent({__name:"vue3-auto-scroll",props:{hideScrollBar:{type:Boolean,default:!0},speed:{default:1},delay:{default:1e3},control:{type:Boolean,default:!0},backSpeed:{default:10}},setup(r){const n=r,a=z.ref(null),t=z.ref(null),u=z.ref(0),h=z.ref(0),l=z.ref(0);let i=null,f=null;const d=()=>{i&&clearTimeout(i),f&&cancelAnimationFrame(f),u.value=a.value.clientHeight,h.value=t.value.clientHeight,i=setTimeout(()=>{b()},n.delay),n.control&&g()},g=()=>{var L,w;(L=a.value)==null||L.addEventListener("mouseenter",T),(w=a.value)==null||w.addEventListener("mouseleave",j)},T=()=>{var L;i&&clearTimeout(i),f&&cancelAnimationFrame(f),(L=a.value)==null||L.addEventListener("scroll",E)},j=()=>{a.value.removeEventListener("scroll",E),i=setTimeout(()=>{b()},n.delay)},E=()=>{l.value=a.value.scrollTop},b=()=>{if(l.value+=n.speed,a.value.scrollTop=l.value,h.value-l.value<=u.value){H();return}f=requestAnimationFrame(b)},H=()=>{i=setTimeout(()=>{I()},n.delay)},I=()=>{requestAnimationFrame(()=>{if(l.value-=n.backSpeed,a.value.scrollTop=l.value,l.value<=0){i=setTimeout(()=>{b()},n.delay);return}I()})};return z.onMounted(()=>{Xe().listenTo(t.value,()=>{d()})}),z.onBeforeUnmount(()=>{i&&clearTimeout(i)}),(L,w)=>(z.openBlock(),z.createElementBlock("div",{class:z.normalizeClass(["vue3-auto-scroll-wrapper",[r.hideScrollBar?"hide-scroll-bar":""]]),ref_key:"wrapperRef",ref:a},[z.createElementVNode("div",{ref_key:"scrollRef",ref:t},[z.renderSlot(L.$slots,"default",{},void 0,!0)],512)],2))}}),lt="",ut="",ne=((r,n)=>{const a=r.__vccOpts||r;for(const[t,u]of n)a[t]=u;return a})(Ze,[["__scopeId","data-v-8f121b61"]]);ne.name="vue3-auto-scroll";const et=r=>{r.component(ne.name,ne)};$.Vue3AutoScroll=ne,$.default=et,Object.defineProperties($,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
